[package]
name = "kuchikiki"
version = "0.8.2"
authors = [
  "Brave Authors",
  "Ralph Giles <rgiles@brave.com>",
  "Simon Sapin <simon.sapin@exyr.org>",
  "Adam Mill <hismajesty@theroyalwhee.com>",
]
license = "MIT"
description = "(口利き) HTML tree manipulation library"
repository = "https://github.com/theroyalwhee0/kuchikiki"
edition = "2018"

[lib]
name = "kuchikiki"

[lints.rust]
# Forbid unsafe code when the unsafe feature is disabled (safe mode).
# When the unsafe feature is enabled (default), unsafe code is allowed for performance.
#
# To build without unsafe code: cargo build --no-default-features
# To test without unsafe code: cargo test --no-default-features
#
# This lint is automatically enabled when building without the unsafe feature.
# When the unsafe feature is enabled, the safe alternatives are not compiled.
#
# Note: This lint cannot be conditionally set via #[cfg] in Cargo.toml directly,
# but the unsafe blocks are already wrapped with #[cfg(feature = "unsafe")],
# so building without the unsafe feature will have zero unsafe blocks.
missing_docs = "deny"

[lints.rustdoc]
missing_crate_level_docs = "deny"
broken_intra_doc_links = "deny"
private_intra_doc_links = "deny"
invalid_codeblock_attributes = "deny"
bare_urls = "deny"
redundant_explicit_links = "deny"

[lints.clippy]
print_stdout = "deny"
print_stderr = "deny"
disallowed_methods = "deny"
missing_docs_in_private_items = "deny"
missing_panics_doc = "deny"
missing_errors_doc = "deny"
missing_safety_doc = "deny"

[dev-dependencies]
# Testing.
tempfile = "3.23.0"

[dependencies]
# HTML parsing.
html5ever = "0.35.0"

# CSS selector parsing and matching.
cssparser = "0.35.0"
selectors = "0.32.0"

# Data structures.
indexmap = "2.12.0"
precomputed-hash = "0.1.1"

[features]
# Enable bloom filter optimization for faster selector matching.
bloom-filter = []

# Enable unsafe code optimizations (default). When disabled, uses safe alternatives.
# Disabling this feature allows the code to be built with forbid(unsafe_code).
default = ["unsafe"]
unsafe = []
